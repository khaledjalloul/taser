launch:
  - arg:
      name: use_joint_state_publisher_gui
      default: "true"
      description: Whether to use the joint state publisher GUI

  - node:
      pkg: rviz2
      exec: rviz2
      output: screen
      args: -d $(find-pkg-share taser_ros)/config/config.rviz

  - node:
      pkg: robot_state_publisher
      exec: robot_state_publisher
      name: robot_state_publisher
      output: screen
      param:
        - name: use_sim_time
          value: true
        - name: robot_description
          value: $(command 'xacro $(find-pkg-share taser_ros)/robot_description/urdf/xacro/robot.urdf.xacro')

  - node:
      pkg: joint_state_publisher_gui
      exec: joint_state_publisher_gui
      name: joint_state_publisher_gui
      if: $(var use_joint_state_publisher_gui)

  - node:
      pkg: tf2_ros
      exec: static_transform_publisher
      name: map_to_base_link
      output: screen
      args: 0 0 0.65 0 0 0 map base_link
      if: $(var use_joint_state_publisher_gui)
